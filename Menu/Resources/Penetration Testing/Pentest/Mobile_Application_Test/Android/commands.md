- ADB (Android Debug Bridge):

  - adb connect IP_ADDRESS: Connect to the Android device using ADB
  - adb shell: Get shell on Android device
  - adb devices: List of devices
  - adb devices -l
  - adb tcpip Port_Number: Setup listener on Android device
  - adb kill-server: reset connection
  - adb install path_to_apk: Install apk on device
  - adb forward tcp:6100 tcp:7100: Port forwarding, host port 6100 to device port 7100
  - 
  
- Commands related to Content Provider. Content provider always strats from content://

  - adb shell pm path <pakage_name>
  - adb pull <path_to_apk> .
  - apktool d application.apk
  - grep -iRn 'content://'
  - adb shell content query --uri [uri from grep results]

- Drozer: Android Application Exploitation Framework

  - adb forward tcp:31415 tcp:31415
  - drozer console connect
  - run app.package.list
  - run app.package.list -f <application_name> #Finding package name of only perticular application
  - run app.package.attacksarface <application_pakage_name>
  - run app.provider.finduri <application_pakage_name> #exploiting content providers within application
  - run app.provider.query <application_content_provider_URI>
  - run app.package.info -a <application_package_name> #finding permissions used by an application
  - run app.provider.read <application_content_provider_URI>
  
- Recompiling modified APK file:

  - apktool b /modfied_application_folder -o mynewapp.apk
  - jarsigner -verbose -sigalg SHA1RSA -digestalg SHA1 -keystore key.keystore mynewapp.apk alias_name
  - enter the password for keystore to sign the new apk file.
  - ready to install on the device with adb.
  
- View encrypted database:
  
  - dex2jar classes.dex -o app.jar #go through the source code to find out hardcoded encrypted database password
  - adb pull /data/data/[packagename]/databases/app.db
  - ./sqlcipher app.db
  - PRAGMA key = ‘hardcoded_password’;
  - .tables;
  - select * from table_names;
  - .exit
  
- Creating private key for APK signing:

  - Keytool –genkey –alias key.keystore –keyalg RSA –validity 20000 –keystore key/key.keystore
  
- List of Metasploit modules for Android:
<pre>

   Name                                                               Disclosure Date  Rank       Description
   ----                                                               ---------------  ----       -----------
   auxiliary/admin/android/google_play_store_uxss_xframe_rce                           normal     Android Browser RCE Through Google Play Store XFO
   auxiliary/dos/http/android_stock_browser_iframe_dos_cve_2012_6301  2012-12-01       normal     Android Stock Browser Iframe DOS
   auxiliary/gather/android_browser_file_theft                                         normal     Android Browser File Theft
   auxiliary/gather/android_browser_new_tab_cookie_theft                               normal     Android Browser "Open in New Tab" Cookie Theft
   auxiliary/gather/android_htmlfileprovider                                           normal     Android Content Provider File Disclosure
   auxiliary/gather/android_object_tag_webview_uxss                   2014-10-04       normal     Android Open Source Platform (AOSP) Browser UXSS
   auxiliary/gather/android_stock_browser_uxss                                         normal     Android Open Source Platform (AOSP) Browser UXSS
   auxiliary/gather/firefox_pdfjs_file_theft                                           normal     Firefox PDF.js Browser File Theft
   auxiliary/scanner/sip/sipdroid_ext_enum                                             normal     SIPDroid Extension Grabber
   auxiliary/server/android_browsable_msf_launch                                       normal     Android Meterpreter Browsable Launcher
   auxiliary/server/android_mercury_parseuri                                           normal     Android Mercury Browser Intent URI Scheme and Directory Traversal Vulnerability
   exploit/android/browser/samsung_knox_smdm_url                      2014-11-12       excellent  Samsung Galaxy KNOX Android Browser RCE
   exploit/android/browser/webview_addjavascriptinterface             2012-12-21       excellent  Android Browser and WebView addJavascriptInterface Code Execution
   exploit/android/fileformat/adobe_reader_pdf_js_interface           2014-04-13       good       Adobe Reader for Android addJavascriptInterface Exploit
   exploit/android/local/futex_requeue                                2014-05-03       excellent  Android 'Towelroot' Futex Requeue Kernel Exploit
   payload/android/meterpreter/reverse_http                                            normal     Android Meterpreter, Dalvik Reverse HTTP Stager
   payload/android/meterpreter/reverse_https                                           normal     Android Meterpreter, Dalvik Reverse HTTPS Stager
   payload/android/meterpreter/reverse_tcp                                             normal     Android Meterpreter, Dalvik Reverse TCP Stager
   payload/android/shell/reverse_http                                                  normal     Command Shell, Dalvik Reverse HTTP Stager
   payload/android/shell/reverse_https                                                 normal     Command Shell, Dalvik Reverse HTTPS Stager
   payload/android/shell/reverse_tcp                                                   normal     Command Shell, Dalvik Reverse TCP Stager
   post/android/capture/screen                                                         normal     Android Screen Capture
   post/android/manage/remove_lock                                    2013-10-11       normal     Android Settings Remove Device Locks (4.0-4.3)
   post/android/manage/remove_lock_root                                                normal     Android Root Remove Device Locks (root)

</pre>

  

  
